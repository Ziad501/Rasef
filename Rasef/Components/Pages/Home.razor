@page "/home"
@layout MainLayout

@code {
    [CascadingParameter] public string CurrentLanguage { get; set; } = "AR";
    private readonly Dictionary<string, Dictionary<string, string>> t = new()
    {
        ["AR"] = new()
        {
            ["systemTitle"] = "نــظــام راصــف",
            ["systemSubtitle"] = "إدارة وصيانة شبكات الطرق",
            ["agency"] = "وزارة النقل والخدمات اللوجستية",
            ["dashboard"] = "لوحة القيادة",
            ["dashboardDesc"] = "عرض المؤشرات العامة",
            ["projectManagement"] = "إدارة المشاريع",
            ["projectDesc"] = "تخطيط ومتابعة التنفيذ",
            ["reports"] = "التقارير",
            ["reportsDesc"] = "تقارير تفصيلية وتحليلات دقيقة",
            ["userManagement"] = "إدارة المستخدمين",
            ["userDesc"] = "التحكم في الصلاحيات والمستخدمين",
            ["workorder"] = "أوامر العمل",
            ["workorderDesc"] = "إدارة ومتابعة أوامر العمل"
        },
        ["EN"] = new()
        {
            ["systemTitle"] = "RASEF System",
            ["systemSubtitle"] = "Road Network Maintenance & Management",
            ["agency"] = "Ministry of Transport & Logistics",
            ["dashboard"] = "Dashboard",
            ["dashboardDesc"] = "View general KPIs",
            ["projectManagement"] = "Project Management",
            ["projectDesc"] = "Plan and track execution",
            ["reports"] = "Reports",
            ["reportsDesc"] = "Detailed reports and analytics",
            ["userManagement"] = "User Management",
            ["userDesc"] = "Manage users and permissions",
            ["workorder"] = "Work Orders",
            ["workorderDesc"] = "Manage and track work orders",

        }
    };
    string T(string k) => t[CurrentLanguage].TryGetValue(k, out var v) ? v : k;
}

<!-- HERO (edge-to-edge; no white gutters) -->
<div class="position-relative mx-n3 mx-sm-n4 mx-md-n5 hero-section">
    <div class="position-absolute w-100 h-100 hero-bg"></div>
    <div class="position-absolute w-100 h-100 hero-overlay"></div>

    <div class="position-absolute w-100 h-100 d-flex align-items-center justify-content-center text-white px-3">
        <div class="text-center animate-fade-in">
            <div class="mb-4"><i class="bi bi-laptop icon-xl" style="opacity:.9"></i></div>
            <h1 class="display-5 fw-bold mb-3">@T("systemTitle")</h1>
            <h2 class="h4 mb-4 fw-normal">@T("systemSubtitle")</h2>
            <p class="lead mb-0 opacity-75">@T("agency")</p>
        </div>
    </div>

    <div class="position-absolute bottom-0 start-0 w-100 lh-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 80" class="d-block w-100">
            <path class="wave-path"
                  d="M0,32L48,37.3C96,43,192,53,288,53.3C384,53,480,43,576,42.7C672,43,768,53,864,56C960,59,1056,53,1152,48C1248,43,1344,37,1392,34.7L1440,32L1440,80L0,80Z" />
        </svg>
    </div>
</div>

<!-- CARDS -->
<div class="container-fluid py-5">
    <div class="row g-4">
        <div class="col-12 col-sm-6 col-lg-3">
            <div class="card home-card position-relative border-0 shadow-sm h-100 rounded-4">
                <div class="card-body text-center p-4">
                    <div class="mb-3 icon-circle grad-blue"><i class="bi bi-speedometer2 text-white icon-xl"></i></div>
                    <h5 class="card-title fw-bold mb-3 text-slate">@T("dashboard")</h5>
                    <p class="text-muted small mb-0">@T("dashboardDesc")</p>
                    <a href="/dashboard" class="stretched-link" aria-label="@T("dashboard")"></a>
                </div>
            </div>
        </div>

        <div class="col-12 col-sm-6 col-lg-3">
            <div class="card home-card position-relative border-0 shadow-sm h-100 rounded-4">
                <div class="card-body text-center p-4">
                    <div class="mb-3 icon-circle grad-green"><i class="bi bi-check-circle text-white icon-xl"></i></div>
                    <h5 class="card-title fw-bold mb-3 text-slate">@T("workorder")</h5>
                    <p class="text-muted small mb-0">@T("workorderDesc")</p>
                    <!-- Link to workflow -->
                    <a href="/workorder/workflow" class="stretched-link" aria-label="@T("workorder")"></a>
                </div>
            </div>
        </div>

        <div class="col-12 col-sm-6 col-lg-3">
            <div class="card home-card position-relative border-0 shadow-sm h-100 rounded-4">
                <div class="card-body text-center p-4">
                    <div class="mb-3 icon-circle grad-orange"><i class="bi bi-clipboard-data text-white icon-xl"></i></div>
                    <h5 class="card-title fw-bold mb-3 text-slate">@T("reports")</h5>
                    <p class="text-muted small mb-0">@T("reportsDesc")</p>
                    <a href="/reports" class="stretched-link" aria-label="@T("reports")"></a>
                </div>
            </div>
        </div>

        <div class="col-12 col-sm-6 col-lg-3">
            <div class="card home-card position-relative border-0 shadow-sm h-100 rounded-4">
                <div class="card-body text-center p-4">
                    <div class="mb-3 icon-circle grad-purple"><i class="bi bi-people text-white icon-xl"></i></div>
                    <h5 class="card-title fw-bold mb-3 text-slate">@T("userManagement")</h5>
                    <p class="text-muted small mb-0">@T("userDesc")</p>
                    <a href="/users" class="stretched-link" aria-label="@T("userManagement")"></a>
                </div>
            </div>
        </div>
    </div>
</div>
